"""
èµ„æºå¯¼å…¥è„šæœ¬
"""
import asyncio
from sqlalchemy.ext.asyncio import AsyncSession
from app.core.database import AsyncSessionLocal
from app.models.resource import InternalResource


async def import_course_practice():
    """å¯¼å…¥è¯¾è¯¾ç»ƒæ•™æ"""
    async with AsyncSessionLocal() as db:
        resources = [
            # å¹³è¡¡èƒ½åŠ›è®­ç»ƒ
            {
                'type': 'course_practice',
                'category': 'balance',
                'title': 'å¹³è¡¡èƒ½åŠ›è®­ç»ƒ - å•è„šç«™ç«‹',
                'content': '''ç»ƒä¹ æ–¹æ³•ï¼š
1. åŒè„šå¹¶æ‹¢ç«™ç«‹ï¼ŒåŒæ‰‹å‰è…°
2. æŠ¬èµ·ä¸€åªè„šï¼Œä¿æŒå¹³è¡¡
3. ä¿æŒ30ç§’åæ¢å¦ä¸€åªè„š
4. é‡å¤3-5æ¬¡

æ³¨æ„äº‹é¡¹ï¼š
- ä¿æŒèº«ä½“æŒºç›´
- ç›®è§†å‰æ–¹
- åˆå­¦è€…å¯æ‰¶å¢™ç»ƒä¹ ''',
                'keywords': ['å¹³è¡¡', 'è¯¾è¯¾ç»ƒ', 'å•è„šç«™ç«‹'],
                'file_url': None
            },
            {
                'type': 'course_practice',
                'category': 'balance',
                'title': 'å¹³è¡¡èƒ½åŠ›è®­ç»ƒ - å¹³è¡¡æœ¨è¡Œèµ°',
                'content': '''ç»ƒä¹ æ–¹æ³•ï¼š
1. åœ¨å¹³è¡¡æœ¨æˆ–ç”»çº¿ä¸Šè¡Œèµ°
2. åŒè‡‚ä¾§å¹³ä¸¾ä¿æŒå¹³è¡¡
3. è„šè·Ÿå¯¹è„šå°–è¡Œèµ°
4. å¾€è¿”3-5æ¬¡

æ³¨æ„äº‹é¡¹ï¼š
- æ­¥ä¼è¦ç¨³
- ä¿æŒèº«ä½“å¹³è¡¡
- æ³¨æ„å®‰å…¨''',
                'keywords': ['å¹³è¡¡', 'è¯¾è¯¾ç»ƒ', 'å¹³è¡¡æœ¨'],
                'file_url': None
            },
            
            # åŠ›é‡è®­ç»ƒ
            {
                'type': 'course_practice',
                'category': 'strength',
                'title': 'åŠ›é‡è®­ç»ƒ - ä¿¯å§æ’‘',
                'content': '''ç»ƒä¹ æ–¹æ³•ï¼š
1. ä¿¯å§ï¼ŒåŒæ‰‹æ’‘åœ°ä¸è‚©åŒå®½
2. èº«ä½“ä¿æŒä¸€æ¡ç›´çº¿
3. å±ˆè‡‚ä¸‹é™è‡³èƒ¸éƒ¨æ¥è¿‘åœ°é¢
4. æ¨èµ·è¿˜åŸ
5. é‡å¤10-15æ¬¡ï¼Œ3ç»„

æ³¨æ„äº‹é¡¹ï¼š
- ä¿æŒæ ¸å¿ƒæ”¶ç´§
- åŠ¨ä½œè¦æ ‡å‡†
- é‡åŠ›è€Œè¡Œ''',
                'keywords': ['åŠ›é‡', 'è¯¾è¯¾ç»ƒ', 'ä¿¯å§æ’‘'],
                'file_url': None
            },
        ]
        
        for res in resources:
            resource = InternalResource(**res)
            db.add(resource)
        
        await db.commit()
        print(f"âœ… å¯¼å…¥äº† {len(resources)} æ¡è¯¾è¯¾ç»ƒèµ„æº")


async def import_exercise_library():
    """å¯¼å…¥åŠ¨ä½œåº“"""
    async with AsyncSessionLocal() as db:
        exercises = [
            # æŸ”éŸ§æ€§è®­ç»ƒ
            {
                'type': 'exercise',
                'category': 'flexibility',
                'title': 'å•è‡‚ä½“ä¾§å±ˆ',
                'content': '''ç»ƒä¹ æ–¹æ³•ï¼š
ç›˜è…¿åå§¿ï¼Œå·¦è‡‚ä¸Šä¸¾ã€æŒå¿ƒå‘å†…ï¼Œå³æ‰‹åœ¨è‡€éƒ¨å³ä¾§æ’‘åœ°ï¼Œ
æŒºèƒ¸æ”¶è…¹ï¼Œæ…¢æ…¢å‘å³ä¾§å±ˆä¸Šä½“ï¼Œæ‹‰ä¼¸èº¯å¹²å·¦ä¾§ï¼Œä¿æŒå§¿åŠ¿ã€‚

æ¯ç»„æ—¶é•¿ï¼š30ç§’
ç»„æ•°ï¼šæ¯ä¾§2-3ç»„
ç»„é—´æ­‡ï¼š30ç§’''',
                'keywords': ['æŸ”éŸ§', 'ä½“ä¾§å±ˆ', 'æ‹‰ä¼¸'],
                'file_url': '/videos/flexibility_1.mp4'
            },
            {
                'type': 'exercise',
                'category': 'flexibility',
                'title': 'åä½ä½“å‰å±ˆ',
                'content': '''ç»ƒä¹ æ–¹æ³•ï¼š
åå§¿ï¼ŒåŒè…¿ä¼¸ç›´å¹¶æ‹¢ï¼Œè„šå°–å›å‹¾ï¼Œ
ä¸Šä½“å‰å±ˆï¼ŒåŒæ‰‹å°½é‡è§¦æ‘¸è„šå°–ï¼Œä¿æŒå§¿åŠ¿ã€‚

æ¯ç»„æ—¶é•¿ï¼š30ç§’
ç»„æ•°ï¼š3-4ç»„
ç»„é—´æ­‡ï¼š30ç§’''',
                'keywords': ['æŸ”éŸ§', 'ä½“å‰å±ˆ', 'æ‹‰ä¼¸'],
                'file_url': '/videos/flexibility_2.mp4'
            },
            
            # é€Ÿåº¦è®­ç»ƒ
            {
                'type': 'exercise',
                'category': 'speed',
                'title': 'åŸåœ°é«˜æŠ¬è…¿',
                'content': '''ç»ƒä¹ æ–¹æ³•ï¼š
åŸåœ°ç«™ç«‹ï¼Œå¿«é€Ÿäº¤æ›¿æŠ¬è…¿ï¼Œ
å¤§è…¿æŠ¬è‡³ä¸åœ°é¢å¹³è¡Œï¼Œ
æ‘†è‡‚é…åˆï¼Œä¿æŒèŠ‚å¥ã€‚

æ¯ç»„æ—¶é•¿ï¼š30ç§’
ç»„æ•°ï¼š3-4ç»„
ç»„é—´æ­‡ï¼š30ç§’''',
                'keywords': ['é€Ÿåº¦', 'é«˜æŠ¬è…¿', 'è·‘æ­¥'],
                'file_url': '/videos/speed_1.mp4'
            },
            {
                'type': 'exercise',
                'category': 'speed',
                'title': 'åŠ é€Ÿè·‘',
                'content': '''ç»ƒä¹ æ–¹æ³•ï¼š
30ç±³è·ç¦»ï¼Œä»æ…¢è·‘é€æ¸åŠ é€Ÿè‡³å…¨é€Ÿï¼Œ
æ³¨æ„æ­¥é¢‘å’Œæ­¥å¹…çš„é…åˆã€‚

è·ç¦»ï¼š30ç±³
ç»„æ•°ï¼š5-6ç»„
ç»„é—´æ­‡ï¼š2åˆ†é’Ÿ''',
                'keywords': ['é€Ÿåº¦', 'åŠ é€Ÿè·‘', 'å†²åˆº'],
                'file_url': '/videos/speed_2.mp4'
            },
            
            # åŠ›é‡è®­ç»ƒ
            {
                'type': 'exercise',
                'category': 'leg_strength',
                'title': 'æ·±è¹²',
                'content': '''ç»ƒä¹ æ–¹æ³•ï¼š
åŒè„šä¸è‚©åŒå®½ç«™ç«‹ï¼Œ
å±ˆè†ä¸‹è¹²è‡³å¤§è…¿ä¸åœ°é¢å¹³è¡Œï¼Œ
ç„¶åç«™èµ·è¿˜åŸã€‚

æ¯ç»„æ¬¡æ•°ï¼š15-20æ¬¡
ç»„æ•°ï¼š3-4ç»„
ç»„é—´æ­‡ï¼š1åˆ†é’Ÿ''',
                'keywords': ['åŠ›é‡', 'æ·±è¹²', 'è…¿éƒ¨'],
                'file_url': '/videos/strength_1.mp4'
            },
            {
                'type': 'exercise',
                'category': 'leg_strength',
                'title': 'å•è…¿è¹²',
                'content': '''ç»ƒä¹ æ–¹æ³•ï¼š
å•è„šç«™ç«‹ï¼Œå¦ä¸€è…¿å‰ä¼¸ï¼Œ
å±ˆè†ä¸‹è¹²åç«™èµ·ã€‚

æ¯ç»„æ¬¡æ•°ï¼š8-10æ¬¡
ç»„æ•°ï¼šæ¯ä¾§3ç»„
ç»„é—´æ­‡ï¼š1åˆ†é’Ÿ''',
                'keywords': ['åŠ›é‡', 'å•è…¿è¹²', 'è…¿éƒ¨'],
                'file_url': '/videos/strength_2.mp4'
            },
        ]
        
        for ex in exercises:
            exercise = InternalResource(**ex)
            db.add(exercise)
        
        await db.commit()
        print(f"âœ… å¯¼å…¥äº† {len(exercises)} æ¡åŠ¨ä½œåº“èµ„æº")


async def import_sports_meeting():
    """å¯¼å…¥è¿åŠ¨ä¼šæ–¹æ¡ˆ"""
    async with AsyncSessionLocal() as db:
        plans = [
            {
                'type': 'sports_meeting',
                'category': 'plan',
                'title': 'å°å­¦å…¨å‘˜è¿åŠ¨ä¼šæ–¹æ¡ˆç¤ºä¾‹',
                'content': '''ä¸€ã€æ´»åŠ¨ä¸»é¢˜ï¼šå¿«ä¹è¿åŠ¨ï¼Œå¥åº·æˆé•¿

äºŒã€å‚ä¸å¯¹è±¡ï¼šå…¨æ ¡å­¦ç”Ÿ

ä¸‰ã€æ¯”èµ›é¡¹ç›®ï¼š
1. ä¸ªäººé¡¹ç›®ï¼š50ç±³è·‘ã€ç«‹å®šè·³è¿œã€è·³ç»³
2. å›¢ä½“é¡¹ç›®ï¼šæ¥åŠ›èµ›ã€æ‹”æ²³æ¯”èµ›
3. è¶£å‘³é¡¹ç›®ï¼šè¢‹é¼ è·³ã€ä¸¤äººä¸‰è¶³

å››ã€æ—¶é—´å®‰æ’ï¼š
ä¸Šåˆï¼šå¼€å¹•å¼ã€ä¸ªäººé¡¹ç›®
ä¸‹åˆï¼šå›¢ä½“é¡¹ç›®ã€è¶£å‘³é¡¹ç›®ã€é—­å¹•å¼

äº”ã€åœºåœ°è¦æ±‚ï¼š
- 200ç±³è·‘é“
- è·³è¿œæ²™å‘
- å¹³æ•´è‰åœ°

å…­ã€æ³¨æ„äº‹é¡¹ï¼š
- åšå¥½å®‰å…¨ä¿éšœ
- å‡†å¤‡åŒ»ç–—æ€¥æ•‘
- å¤©æ°”é¢„æ¡ˆ''',
                'keywords': ['è¿åŠ¨ä¼š', 'æ–¹æ¡ˆ', 'å…¨å‘˜'],
                'file_url': None
            },
        ]
        
        for plan in plans:
            resource = InternalResource(**plan)
            db.add(resource)
        
        await db.commit()
        print(f"âœ… å¯¼å…¥äº† {len(plans)} æ¡è¿åŠ¨ä¼šæ–¹æ¡ˆ")


async def main():
    """ä¸»å‡½æ•°"""
    print("ğŸš€ å¼€å§‹å¯¼å…¥èµ„æº...")
    
    await import_course_practice()
    await import_exercise_library()
    await import_sports_meeting()
    
    print("âœ… æ‰€æœ‰èµ„æºå¯¼å…¥å®Œæˆï¼")


if __name__ == '__main__':
    asyncio.run(main())
