# AI大健康助手 - 产品需求文档（PRD）

## 📋 文档信息
- **项目名称**：AI大健康助手
- **载体平台**：微信小程序（集成到现有"三精准"小程序）
- **目标用户**：学生、家长、教师、教育主管部门
- **版本**：v1.0
- **创建日期**：2026-01-19

---

## 🎯 一、项目目标

以微信小程序为载体，为学生、家长、教师及教育主管部门提供包括但不限于**运动、心理、营养**等内容的大健康AI助手。通过对话形式为不同用户提供所需的专业指导和解答。

### 核心价值
- **教师端**：AI助教服务，提升教学效率
- **学生端**：个性化健康指导，科学锻炼
- **家长端**：提升健康认知，协助学校教育
- **主管部门**：数据分析支撑，辅助决策

---

## 🏗️ 二、系统架构逻辑

### 二级资源检索结构
```
用户提问
    ↓
关键词识别
    ↓
┌─────────────────┐
│ 一级：内部资源库  │ ← 优先检索
│ - 课课练教材      │
│ - 全员运动会方案  │
│ - 身体素质动作库  │
│ - 体测数据        │
└─────────────────┘
    ↓ (无匹配内容)
┌─────────────────┐
│ 二级：互联网资源  │ ← 备用检索
│ - 权威健康知识    │
│ - 教学方案        │
└─────────────────┘
    ↓
生成回答（标注来源）
```

### 关键原则
1. **内部资源优先**：优先从内部资源库获取答案
2. **内容不可修改**：内部资源库的项目内容不可修改
3. **关键字驱动**：通过设置关键字识别判断检索路径
4. **可扩展性**：后期通过增加关键字快速调整业务流程

### 内部资源库清单
- ✅ 课课练教材（电子版）
- ✅ 全员运动会方案集
- ✅ 身体素质动作库（含视频）
- ✅ 学生体测数据
- ✅ 教案库
- 🔄 后期扩充内容

---

## 👥 三、用户角色及核心需求

### 3.1 教师角色

**主要场景**：AI助教服务

**核心需求**：
1. **体育教学辅助**
   - 根据教学需求获取课课练方案
   - 获取特定素质训练动作（如柔韧、力量）
   - 获取教学视频和教案

2. **体育活动设计**
   - 根据学校条件设计全员运动会方案
   - 设计大小课间活动
   - 设计班级联赛方案

3. **学生健康管理**
   - 根据班级体测成绩生成薄弱项训练方案
   - 分析学生健康数据
   - 提供针对性改善建议

4. **教师专业发展**
   - 获取专业知识和教学方法
   - 学习最新教学理念

**数据依赖**：
- 学校基础信息（班级数、学生数、场地条件）
- 班级体测成绩
- 内部教学资源库

---

### 3.2 学生角色

**主要场景**：个性化健康指导

**核心需求**：
1. **科学锻炼指导**
   - 根据个人体测成绩生成训练方案
   - 获取针对性训练动作和视频
   - 了解正确的运动方法

2. **心理健康支持**
   - 获取心理调节建议
   - 压力管理指导
   - 情绪疏导（需风险提示）

3. **饮食营养指导**
   - 学生营养知识
   - 健康饮食建议
   - 体重管理指导

**数据依赖**：
- 学生个人体测数据
- 学生基础信息（年级、性别等）

---

### 3.3 家长角色

**主要场景**：家庭健康教育

**核心需求**：
1. **健康认知提升**
   - 了解儿童健康知识
   - 学习科学育儿方法
   - 理解学校健康教育工作

2. **协助学校教育**
   - 查看孩子体测成绩和分析
   - 获取家庭锻炼指导
   - 配合学校健康计划

3. **便捷育儿工具**
   - 快速获取健康问题解答
   - 儿童饮食营养指导
   - 成长发育咨询

**数据依赖**：
- 绑定孩子的体测数据
- 孩子基础信息

---

### 3.4 教育主管部门角色

**主要场景**：数据分析与决策支持

**核心需求**：
1. **学校管理评估**
   - 获取各类统计数据
   - 分析区域健康趋势
   - 评估学校工作成效

2. **政策制定支持**
   - 数据驱动的决策依据
   - 问题识别和分析
   - 资源配置建议

3. **便捷数据获取**
   - 通过AI对话快速查询数据
   - 生成可视化报告
   - 导出统计结果

**数据依赖**：
- 全区域学校数据
- 学生体测大数据
- 学校活动开展情况

---

## 🎨 四、功能模块需求

### 4.1 AI对话交互模块（核心功能）

#### 4.1.1 对话入口
- **位置**：在现有"三精准"小程序界面加入"AI助手"入口
- **交互方式**：
  - ✅ 文字输入
  - ✅ 语音输入（适配学生、老人等不便打字的场景）
- **界面要求**：
  - 入口明显，易于发现
  - 对话界面简洁友好
  - 支持多轮对话

#### 4.1.2 对话识别
- **角色识别**：
  - 首次使用时让用户选择角色（教师/学生/家长/主管部门）
  - 后续自动匹配角色
  - 支持角色切换
  
- **需求领域识别**：
  - 饮食/营养
  - 运动/体育
  - 心理健康
  - 教学管理
  
- **关键词识别**：
  - 内部资源库关键词：课课练、全员运动会、动作库、体测成绩
  - 素质类型关键词：速度、力量、柔韧、耐力、平衡、协调
  - 场景关键词：教学、训练、方案、视频、教案

- **精准匹配**：
  - 避免无效回应
  - 示例：家长询问"孩子饮食"，AI需优先围绕"儿童饮食"展开，而非成人饮食

#### 4.1.3 对话反馈
- **分角色适配语言风格**：
  - 对学生：口语化、易懂、鼓励性
  - 对家长：专业且实用、通俗易懂
  - 对教师：结合校园场景、专业术语
  - 对主管部门：数据化、专业化

- **内容来源标注**：
  - 内部资源：标注"内容来自于北京市学校体育联合会"
  - 互联网资源：标注"内容来自于互联网，请斟酌使用"

- **格式要求**：
  - 文字清晰，分段合理
  - 包含图片时正常显示
  - 包含视频时可播放
  - 列表形式展示多项内容

#### 4.1.4 风险提示机制
- **健康风险问题**：
  - 示例："孩子发烧了该吃什么药"
  - 处理：先提示"建议及时就医"，再提供辅助性建议
  
- **心理危机问题**：
  - 示例："有自杀念头怎么办"
  - 处理：先提示"建议联系专业心理医生"，提供危机干预热线
  
- **原则**：避免替代专业医疗判断

#### 4.1.5 内容过滤机制
- **非健康相关问题**：
  - 示例："我想要语文教学方案"
  - 处理：屏蔽，不予回答
  - 回复："我们是大健康智能体，您可以问我健康、体育、营养等相关内容，换个问题试试吧。"

---

### 4.2 历史对话记录模块

#### 4.2.1 记录保存
- **自动保存**：用户与AI的所有对话记录
- **查看功能**：用户可随时查看过往咨询内容
- **好处**：无需重复提问

#### 4.2.2 记录管理
- **删除功能**：
  - 支持删除单条对话
  - 支持删除全部对话
  - 保障用户隐私

- **智能续问**：
  - 用户再次点击历史对话中的问题
  - AI基于历史内容进一步细化回应
  - 示例：之前问过"10岁孩子运动计划"，再次点击时询问"是否需要调整运动计划的时长或类型"

#### 4.2.3 记录展示
- 按时间倒序排列
- 显示对话摘要
- 支持搜索历史记录

---

### 4.3 隐私保护模块

#### 4.3.1 信息加密
- 对话记录加密存储
- 角色信息加密
- 个人健康数据加密

#### 4.3.2 权限控制
- 学生用户的咨询内容，仅本人及绑定的家长账号可查看
- 禁止泄露给第三方
- 符合《个人信息保护法》

#### 4.3.3 数据安全
- 定期备份
- 防止数据泄露
- 安全传输（HTTPS）

---

## ⚙️ 五、非功能需求

### 5.1 性能需求

#### 5.1.1 响应速度
- **文字/语音咨询**：AI回应时间 ≤ 3秒
- **语音识别准确率**：≥ 95%
- **页面加载时间**：≤ 2秒

#### 5.1.2 稳定性
- **日常故障率**：< 0.5%
- **高峰期表现**：无卡顿、崩溃现象
  - 高峰期：工作日晚间、假期、考试前
- **并发支持**：同时在线用户数 ≥ 2000人

#### 5.1.3 可扩展性
- 支持内部资源库动态扩充
- 支持新增关键字配置
- 支持用户量增长

---

### 5.2 兼容性需求

#### 5.2.1 微信版本
- 适配主流微信版本（近3个版本）
- 兼容微信小程序最新API

#### 5.2.2 操作系统
- ✅ 鸿蒙系统
- ✅ Android系统
- ✅ iOS系统

#### 5.2.3 设备适配
- 不同屏幕尺寸的手机均可正常显示
- 功能模块自适应布局
- 输入对话内容正常显示

---

### 5.3 合规性需求

#### 5.3.1 平台规范
- 遵循《微信小程序平台运营规范》
- 遵循《个人信息保护法》
- 不收集与健康服务无关的用户信息

#### 5.3.2 行业规范
- 符合国家医疗健康行业规范
- 避免提供错误的诊疗建议
- 引用的健康知识来源于权威渠道：
  - 国家卫健委
  - 中国营养学会
  - 权威心理研究机构

#### 5.3.3 内容安全
- 内容审核机制
- 敏感词过滤
- 违规内容拦截

---

### 5.4 信息源要求

#### 5.4.1 自有内容库
- **内容类型**：
  - 训练动作视频库
  - 教案库
  - 方案库
  - 电子版教材库（课课练）
  - 全员运动会方案集

- **版权归属**：北京市学校体育联合会自有版权
- **保密要求**：不得共享至公网
- **使用优先级**：优先使用

#### 5.4.2 公网内容
- **使用场景**：自有信息库无匹配内容时
- **来源要求**：权威渠道
- **标注要求**：明确标注"内容来自于互联网，请斟酌使用"

---

## 📝 六、典型场景示例

### 6.1 教师端场景

#### 场景1：获取课课练方案
**用户提问**：我想要（一节/多节）平衡能力练习课课练方案

**逻辑处理**：
1. 识别关键词"课课练" → 检索课课练电子版教材
2. 识别关键词"平衡能力" → 从目录中找平衡能力内容
3. 不对内容进行变更

**输出内容**：
```
已为您从课课练教材中找到平衡能力训练内容，如想要其他练习请说换一个
（输出教材中所选动作的全部文字图片）
```

---

#### 场景2：设计全员运动会方案
**用户提问**：我想要一套全员运动会方案

**前期学习逻辑**：
- 学习全员运动会文件夹中的项目方案集
- 学习其他学校的运动会方案样例
- 获取设计运动会方案所需的关键信息

**对话逻辑处理**：
1. 识别关键词"全员运动会"
2. 检查问题中是否提供了运动会设计所需关键信息
3. 未提供 → 追问；已提供 → 生成方案

**未提供关键信息时追问**：
```
请提供以下信息：
1. 学校年级数量、各年级班级数量、各班平均人数
2. 用于开运动会的场地条件，有几条跑道，跑道长度多少米
3. 运动会时长多少，想要几个项目

我将为您设计全员运动会方案。
```

**已提供关键信息时输出**：
```
已为您生成全员运动会方案，如有问题可进一步提出您的需求，
我们将按您的需求调整，或可联系联合会专家为您解答
（内容来自于北京市学校体育联合会）

[按照提供资料里的方案样例格式及内容仿写]
```

---

#### 场景3：获取训练动作
**用户提问**：我想要10个柔韧训练指导动作

**前期学习逻辑**：学习动作库

**对话逻辑处理**：
1. 识别关键词"柔韧" → 确定素质类型
2. 识别关键词"指导/训练" → 指向动作库（而非课课练）
3. 按数量要求提供动作

**输出内容**：
```
已为您找到10个柔韧练习内容（内容来自于北京市学校体育联合会）

1. 单臂体侧屈
   练习方法：盘腿坐姿，左臂上举、掌心向内，右手在臀部右侧撑地，
   挺胸收腹，慢慢向右侧屈上体，拉伸躯干左侧，保持姿势。
   每组时长：30秒
   组数：每侧2-3组
   组间歇：30秒
   视频：[视频链接]

2. [其他动作...]
```

---

#### 场景4：内部资源库无内容
**用户提问**：我想要一套引体向上教学方案

**对话逻辑处理**：
1. 识别关键词"引体向上"
2. 搜索内部资源库 → 无匹配内容
3. 搜索互联网资源

**输出内容**：
```
[互联网资源内容]
（内容来自于互联网，请斟酌使用）
```

---

#### 场景5：基于体测成绩生成方案
**用户提问**：请根据四一班体测成绩给我一套提升方案

**对话逻辑处理**：
1. 识别关键词"四一班""体测成绩""提升方案"
2. 查找教师所在学校四一班的体测成绩
3. 找到成绩最低的项目
4. 确定该项目对应的身体素质
5. 从动作库查找对应素质训练动作

**输出内容**：
```
您好，我们查到四一班最弱项是50米跑，对应薄弱素质为速度和下肢力量，
已为您找到10个相关素质训练动作，请参考
（内容来自于北京市学校体育联合会）

1. [动作1详细内容]
2. [动作2详细内容]
3. [动作3详细内容]
...
```

---

#### 场景6：非健康相关问题
**用户提问**：我想要语文教学方案

**对话逻辑处理**：
1. 识别关键词"语文"
2. 判断为非健康相关内容
3. 拒绝回答

**输出内容**：
```
我们是大健康智能体，您可以问我健康、体育、营养等相关内容，换个问题试试吧。
```

---

### 6.2 学生及家长端场景

#### 场景1：基于体测成绩生成训练方案
**用户提问**：请根据我的（我孩子的）体测成绩生成一份针对性训练方案

**对话逻辑处理**：
1. 识别关键词"体测成绩""训练方案"
2. 查找学生信息是否有对应的体测成绩
3. 如果有：找到最弱和次弱项目对应身体素质
4. 从动作库给出：3个针对最弱素质 + 1个针对次弱素质的训练内容
5. 形式同目前小程序的运动处方
6. 如果没有：让用户提供，系统根据国家标准计算后提供

**输出内容（未找到成绩）**：
```
未找到您的体测成绩，您可以告诉我您的年级和各项成绩，
我帮您分析后提供运动方案。
```

**输出内容（找到成绩）**：
```
根据您的体测成绩，您最弱素质为速度，次弱素质为下肢力量，
已为您生成运动方案，请查收。

[运动处方格式的训练方案]
```

---

#### 场景2：获取教学视频
**用户提问**：我想要引体向上训练教学视频

**对话逻辑处理**：
1. 识别关键词"引体向上""视频"
2. 搜索内部库 → 无合适内容
3. 搜索互联网资源

**输出内容**：
```
已为您搜索到引体向上的教学视频请参考
（内容来自于互联网，请斟酌使用）

[视频链接或内容]
```

---

## 🎯 七、项目范围

### 7.1 包含（In Scope）

#### 第一期（MVP）
- ✅ AI对话交互功能（文字+语音）
- ✅ 角色识别与适配
- ✅ 内部资源库检索（课课练、运动会方案、动作库）
- ✅ 互联网资源检索（备用）
- ✅ 历史对话记录
- ✅ 基于体测成绩的个性化方案生成
- ✅ 风险提示机制
- ✅ 内容过滤机制
- ✅ 隐私保护

#### 第二期（扩展）
- 🔄 数据可视化（体测成绩趋势图）
- 🔄 教育主管部门数据分析功能
- 🔄 更丰富的内部资源库
- 🔄 多模态交互（图片识别）
- 🔄 社区功能（经验分享）

---

### 7.2 不包含（Out of Scope）

- ❌ 医疗诊断功能（法律限制）
- ❌ 药品推荐和销售
- ❌ 医疗设备对接
- ❌ 在线问诊功能
- ❌ 电商功能
- ❌ 社交功能（第一期）
- ❌ 游戏化功能（第一期）

---

## 📊 八、成功指标（KPI）

### 8.1 用户指标
- 日活跃用户数（DAU）：目标 1000+
- 月活跃用户数（MAU）：目标 5000+
- 用户留存率（7日）：目标 > 40%
- 用户满意度：目标 > 4.5/5.0

### 8.2 功能指标
- AI回答准确率：目标 > 90%
- 内部资源命中率：目标 > 60%
- 对话完成率：目标 > 80%
- 语音识别准确率：目标 > 95%

### 8.3 性能指标
- 响应时间：目标 < 3秒
- 系统可用性：目标 > 99.5%
- 并发支持：目标 2000+ 用户

---

## 🗓️ 九、项目里程碑

### 阶段1：基础架构（第1-2周）
- 项目初始化
- 数据库设计
- 微信小程序基础框架
- AI接口集成

### 阶段2：核心功能（第3-6周）
- AI对话交互模块
- 内部资源库检索
- 角色识别与适配
- 历史记录功能

### 阶段3：优化与测试（第7-8周）
- 性能优化
- 全面测试
- 用户体验优化
- 上线准备

---

## 📞 十、相关方

### 项目团队
- 产品经理：[待定]
- 技术负责人：[待定]
- 前端开发：[待定]
- 后端开发：[待定]
- AI工程师：[待定]
- 测试工程师：[待定]

### 业务方
- 北京市学校体育联合会
- 合作学校
- 教育主管部门

---

## 📝 十一、附录

### 11.1 术语表
- **课课练**：体育课堂练习教材
- **全员运动会**：全校学生参与的运动会
- **体测**：学生体质健康测试
- **动作库**：身体素质训练动作视频库
- **三精准**：现有的微信小程序名称

### 11.2 参考文档
- 《微信小程序开发文档》
- 《个人信息保护法》
- 《国家学生体质健康标准》
- 北京市学校体育联合会资源库

---

**文档状态**：✅ 已完成  
**最后更新**：2026-01-19  
**下一步**：技术栈选择与架构设计
