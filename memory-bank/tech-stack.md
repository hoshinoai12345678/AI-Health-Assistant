# AIå¤§å¥åº·åŠ©æ‰‹ - æŠ€æœ¯æ ˆæ¨è

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯
- **é¡¹ç›®åç§°**ï¼šAIå¤§å¥åº·åŠ©æ‰‹
- **ç‰ˆæœ¬**ï¼šv1.0
- **åˆ›å»ºæ—¥æœŸ**ï¼š2026-01-19

---

## ğŸ¯ æŠ€æœ¯é€‰å‹åŸåˆ™

1. **å¾®ä¿¡å°ç¨‹åºç”Ÿæ€ä¼˜å…ˆ**ï¼šå……åˆ†åˆ©ç”¨å¾®ä¿¡å°ç¨‹åºèƒ½åŠ›
2. **ç¨³å®šå¯é **ï¼šé€‰æ‹©æˆç†Ÿã€ç¨³å®šçš„æŠ€æœ¯æ ˆ
3. **æ€§èƒ½ä¼˜å…ˆ**ï¼šç¡®ä¿å“åº”é€Ÿåº¦å’Œå¹¶å‘èƒ½åŠ›
4. **æ˜“äºç»´æŠ¤**ï¼šä»£ç æ¸…æ™°ï¼Œä¾¿äºåæœŸæ‰©å±•
5. **æˆæœ¬å¯æ§**ï¼šåœ¨æ»¡è¶³éœ€æ±‚çš„å‰æä¸‹æ§åˆ¶æˆæœ¬

---

## ğŸ—ï¸ æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å¾®ä¿¡å°ç¨‹åºå‰ç«¯                      â”‚
â”‚              (åŸç”Ÿå°ç¨‹åº + TypeScript)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“ HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API ç½‘å…³å±‚                        â”‚
â”‚                  (Nginx + SSL)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   åç«¯æœåŠ¡å±‚                         â”‚
â”‚              (Python FastAPI + Uvicorn)              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ AIå¯¹è¯æœåŠ¡   â”‚  â”‚ èµ„æºæ£€ç´¢æœåŠ¡ â”‚  â”‚ ç”¨æˆ·æœåŠ¡  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ•°æ®å­˜å‚¨å±‚                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ PostgreSQL   â”‚  â”‚ Redisç¼“å­˜    â”‚  â”‚ MinIO     â”‚ â”‚
â”‚  â”‚ (ç»“æ„åŒ–æ•°æ®) â”‚  â”‚ (ä¼šè¯/ç¼“å­˜)  â”‚  â”‚ (æ–‡ä»¶å­˜å‚¨)â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   AIæœåŠ¡å±‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ LLM API      â”‚  â”‚ å‘é‡æ•°æ®åº“   â”‚  â”‚ è¯­éŸ³è¯†åˆ«  â”‚ â”‚
â”‚  â”‚ (OpenAI/é€šä¹‰)â”‚  â”‚ (Milvus)     â”‚  â”‚ (å¾®ä¿¡API) â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± å‰ç«¯æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶
**é€‰æ‹©ï¼šå¾®ä¿¡å°ç¨‹åºåŸç”Ÿå¼€å‘ + TypeScript**

**ç†ç”±**ï¼š
- âœ… éœ€è¦é›†æˆåˆ°ç°æœ‰"ä¸‰ç²¾å‡†"å°ç¨‹åº
- âœ… åŸç”Ÿå¼€å‘æ€§èƒ½æœ€ä¼˜
- âœ… å……åˆ†åˆ©ç”¨å¾®ä¿¡å°ç¨‹åºèƒ½åŠ›ï¼ˆè¯­éŸ³è¯†åˆ«ã€æ–‡ä»¶ä¸Šä¼ ç­‰ï¼‰
- âœ… TypeScript æä¾›ç±»å‹å®‰å…¨ï¼Œå‡å°‘é”™è¯¯

**æ›¿ä»£æ–¹æ¡ˆ**ï¼š
- Taroï¼ˆè·¨å¹³å°ï¼Œä½†æœ¬é¡¹ç›®åªéœ€å¾®ä¿¡å°ç¨‹åºï¼‰
- uni-appï¼ˆåŒä¸Šï¼‰

### UIç»„ä»¶åº“
**é€‰æ‹©ï¼šVant Weapp**

**ç†ç”±**ï¼š
- âœ… è½»é‡çº§ï¼Œæ€§èƒ½å¥½
- âœ… ç»„ä»¶ä¸°å¯Œï¼Œè¦†ç›–å¸¸è§åœºæ™¯
- âœ… æ–‡æ¡£å®Œå–„ï¼Œç¤¾åŒºæ´»è·ƒ
- âœ… æ”¯æŒè‡ªå®šä¹‰ä¸»é¢˜

**å®˜ç½‘**ï¼šhttps://vant-contrib.gitee.io/vant-weapp/

### çŠ¶æ€ç®¡ç†
**é€‰æ‹©ï¼šMobXï¼ˆmobx-miniprogramï¼‰**

**ç†ç”±**ï¼š
- âœ… ç®€å•æ˜“ç”¨ï¼Œå­¦ä¹ æˆæœ¬ä½
- âœ… å“åº”å¼æ›´æ–°ï¼Œæ€§èƒ½å¥½
- âœ… é€‚åˆå°ç¨‹åºåœºæ™¯

**æ›¿ä»£æ–¹æ¡ˆ**ï¼š
- åŸç”Ÿ globalDataï¼ˆåŠŸèƒ½æœ‰é™ï¼‰
- Reduxï¼ˆè¿‡äºå¤æ‚ï¼‰

### ç½‘ç»œè¯·æ±‚
**é€‰æ‹©ï¼šå°è£… wx.request**

**å®ç°**ï¼š
```typescript
// utils/request.ts
- ç»Ÿä¸€é”™è¯¯å¤„ç†
- è‡ªåŠ¨æ·»åŠ  token
- è¯·æ±‚/å“åº”æ‹¦æˆª
- è¶…æ—¶é‡è¯•
```

### è¯­éŸ³åŠŸèƒ½
**é€‰æ‹©ï¼šå¾®ä¿¡å°ç¨‹åºåŸç”Ÿ API**

**ä½¿ç”¨**ï¼š
- `wx.getRecorderManager()` - å½•éŸ³
- å¾®ä¿¡åŒå£°ä¼ è¯‘æ’ä»¶ - è¯­éŸ³è½¬æ–‡å­—
- æˆ–åç«¯é›†æˆè¯­éŸ³è¯†åˆ«æœåŠ¡

---

## ğŸ–¥ï¸ åç«¯æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶
**é€‰æ‹©ï¼šPython + FastAPI**

**ç†ç”±**ï¼š
- âœ… FastAPI æ€§èƒ½ä¼˜å¼‚ï¼ˆåŸºäº Starlette å’Œ Pydanticï¼‰
- âœ… è‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£ï¼ˆSwagger UIï¼‰
- âœ… ç±»å‹æç¤ºï¼Œä»£ç è´¨é‡é«˜
- âœ… å¼‚æ­¥æ”¯æŒï¼Œé«˜å¹¶å‘èƒ½åŠ›å¼º
- âœ… Python ç”Ÿæ€ä¸°å¯Œï¼ŒAI/ML åº“å®Œå–„
- âœ… å¼€å‘æ•ˆç‡é«˜

**ç‰ˆæœ¬**ï¼š
- Python 3.11+
- FastAPI 0.109+

**æ›¿ä»£æ–¹æ¡ˆ**ï¼š
- Node.js + Expressï¼ˆæ€§èƒ½ç•¥ä½ï¼Œä½†å‰ç«¯å¼€å‘è€…ç†Ÿæ‚‰ï¼‰
- Djangoï¼ˆè¿‡äºé‡é‡çº§ï¼‰
- Flaskï¼ˆåŠŸèƒ½è¾ƒå°‘ï¼Œéœ€è¦å¤§é‡æ‰©å±•ï¼‰

### WebæœåŠ¡å™¨
**é€‰æ‹©ï¼šUvicorn + Gunicorn**

**é…ç½®**ï¼š
```bash
# ç”Ÿäº§ç¯å¢ƒ
gunicorn main:app \
  --workers 4 \
  --worker-class uvicorn.workers.UvicornWorker \
  --bind 0.0.0.0:8000 \
  --timeout 120
```

**ç†ç”±**ï¼š
- âœ… Uvicornï¼šé«˜æ€§èƒ½ ASGI æœåŠ¡å™¨
- âœ… Gunicornï¼šè¿›ç¨‹ç®¡ç†ï¼Œå¤š worker æ”¯æŒ
- âœ… ç¨³å®šå¯é 

### APIç½‘å…³
**é€‰æ‹©ï¼šNginx**

**åŠŸèƒ½**ï¼š
- åå‘ä»£ç†
- è´Ÿè½½å‡è¡¡
- SSL/TLS ç»ˆæ­¢
- é™æ€èµ„æºæœåŠ¡
- é™æµé˜²æŠ¤

**é…ç½®ç¤ºä¾‹**ï¼š
```nginx
upstream backend {
    server 127.0.0.1:8000;
    server 127.0.0.1:8001;
}

server {
    listen 443 ssl http2;
    server_name api.health-assistant.com;
    
    ssl_certificate /path/to/cert.pem;
    ssl_certificate_key /path/to/key.pem;
    
    location /api/ {
        proxy_pass http://backend;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

---

## ğŸ—„ï¸ æ•°æ®å­˜å‚¨æŠ€æœ¯æ ˆ

### ä¸»æ•°æ®åº“
**é€‰æ‹©ï¼šPostgreSQL 15+**

**ç†ç”±**ï¼š
- âœ… å¼€æºã€ç¨³å®šã€æ€§èƒ½ä¼˜å¼‚
- âœ… æ”¯æŒ JSON ç±»å‹ï¼ˆå­˜å‚¨å¯¹è¯è®°å½•ï¼‰
- âœ… æ”¯æŒå…¨æ–‡æœç´¢ï¼ˆä¸­æ–‡åˆ†è¯ï¼‰
- âœ… æ”¯æŒå‘é‡æ‰©å±•ï¼ˆpgvectorï¼Œç”¨äºè¯­ä¹‰æœç´¢ï¼‰
- âœ… äº‹åŠ¡æ”¯æŒå®Œå–„
- âœ… ä¸°å¯Œçš„ç´¢å¼•ç±»å‹

**æ•°æ®è¡¨è®¾è®¡**ï¼š
```sql
-- ç”¨æˆ·è¡¨
users (id, openid, role, nickname, avatar, created_at)

-- å¯¹è¯ä¼šè¯è¡¨
conversations (id, user_id, title, created_at, updated_at)

-- å¯¹è¯æ¶ˆæ¯è¡¨
messages (id, conversation_id, role, content, source, created_at)

-- ä½“æµ‹æ•°æ®è¡¨
fitness_tests (id, student_id, test_date, test_items, scores)

-- å†…éƒ¨èµ„æºè¡¨
internal_resources (id, type, title, content, keywords, file_url)
```

**æ›¿ä»£æ–¹æ¡ˆ**ï¼š
- MySQLï¼ˆåŠŸèƒ½ç•¥å°‘ï¼Œä½†ä¹Ÿå¯ç”¨ï¼‰
- MongoDBï¼ˆä¸é€‚åˆå…³ç³»å‹æ•°æ®ï¼‰

### ç¼“å­˜ç³»ç»Ÿ
**é€‰æ‹©ï¼šRedis 7+**

**ç”¨é€”**ï¼š
- ä¼šè¯ç¼“å­˜ï¼ˆç”¨æˆ·ç™»å½•çŠ¶æ€ï¼‰
- å¯¹è¯ä¸Šä¸‹æ–‡ç¼“å­˜ï¼ˆæœ€è¿‘Nè½®å¯¹è¯ï¼‰
- çƒ­ç‚¹æ•°æ®ç¼“å­˜ï¼ˆå¸¸ç”¨èµ„æºï¼‰
- é™æµè®¡æ•°å™¨
- åˆ†å¸ƒå¼é”

**æ•°æ®ç»“æ„ä½¿ç”¨**ï¼š
```
String: ç”¨æˆ·tokenã€ç®€å•ç¼“å­˜
Hash: ç”¨æˆ·ä¿¡æ¯ã€ä¼šè¯ä¿¡æ¯
List: å¯¹è¯å†å²
Set: å…³é”®è¯é›†åˆ
ZSet: çƒ­é—¨é—®é¢˜æ’è¡Œ
```

**ç†ç”±**ï¼š
- âœ… æ€§èƒ½æé«˜ï¼ˆå†…å­˜å­˜å‚¨ï¼‰
- âœ… æ•°æ®ç»“æ„ä¸°å¯Œ
- âœ… æŒä¹…åŒ–æ”¯æŒ
- âœ… ä¸»ä»å¤åˆ¶ã€å“¨å…µã€é›†ç¾¤

### æ–‡ä»¶å­˜å‚¨
**é€‰æ‹©ï¼šMinIOï¼ˆè‡ªå»ºå¯¹è±¡å­˜å‚¨ï¼‰**

**ç”¨é€”**ï¼š
- è®­ç»ƒåŠ¨ä½œè§†é¢‘
- æ•™æå›¾ç‰‡
- ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶
- ç”Ÿæˆçš„æŠ¥å‘ŠPDF

**ç†ç”±**ï¼š
- âœ… å…¼å®¹ S3 API
- âœ… è‡ªå»ºï¼Œæˆæœ¬ä½
- âœ… æ€§èƒ½å¥½ï¼Œæ˜“æ‰©å±•
- âœ… æ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²

**æ›¿ä»£æ–¹æ¡ˆ**ï¼š
- é˜¿é‡Œäº‘ OSSï¼ˆæˆæœ¬è¾ƒé«˜ï¼Œä½†ç¨³å®šï¼‰
- è…¾è®¯äº‘ COSï¼ˆåŒä¸Šï¼‰
- æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼ˆä¸æ¨èï¼Œéš¾æ‰©å±•ï¼‰

### å‘é‡æ•°æ®åº“
**é€‰æ‹©ï¼šMilvusï¼ˆå¼€æºï¼‰æˆ– Pineconeï¼ˆäº‘æœåŠ¡ï¼‰**

**ç”¨é€”**ï¼š
- å†…éƒ¨èµ„æºåº“çš„è¯­ä¹‰æœç´¢
- ç›¸ä¼¼é—®é¢˜åŒ¹é…
- æ™ºèƒ½æ¨è

**ç†ç”±**ï¼š
- âœ… ä¸“ä¸ºå‘é‡æœç´¢è®¾è®¡
- âœ… æ€§èƒ½ä¼˜å¼‚
- âœ… æ”¯æŒå¤šç§ç´¢å¼•ç®—æ³•
- âœ… æ˜“äºé›†æˆ

**æ›¿ä»£æ–¹æ¡ˆ**ï¼š
- PostgreSQL + pgvectorï¼ˆç®€å•åœºæ™¯å¯ç”¨ï¼‰
- Elasticsearchï¼ˆåŠŸèƒ½è¾ƒå¼±ï¼‰

---

## ğŸ¤– AIæœåŠ¡æŠ€æœ¯æ ˆ

### å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰
**æ¨èæ–¹æ¡ˆï¼šé˜¿é‡Œäº‘é€šä¹‰åƒé—®**

**ç†ç”±**ï¼š
- âœ… å›½å†…æœåŠ¡ï¼Œå“åº”é€Ÿåº¦å¿«
- âœ… ä»·æ ¼ç›¸å¯¹ä¾¿å®œ
- âœ… ä¸­æ–‡ç†è§£èƒ½åŠ›å¼º
- âœ… æ”¯æŒå‡½æ•°è°ƒç”¨ï¼ˆFunction Callingï¼‰
- âœ… ç¬¦åˆå›½å†…åˆè§„è¦æ±‚

**API**ï¼š
```python
from dashscope import Generation

response = Generation.call(
    model='qwen-turbo',
    messages=[
        {'role': 'system', 'content': 'ä½ æ˜¯ä¸€ä¸ªå¤§å¥åº·åŠ©æ‰‹...'},
        {'role': 'user', 'content': 'æˆ‘æƒ³è¦å¹³è¡¡èƒ½åŠ›è®­ç»ƒæ–¹æ¡ˆ'}
    ],
    result_format='message'
)
```

**å¤‡é€‰æ–¹æ¡ˆ**ï¼š
1. **OpenAI GPT-4**ï¼ˆæ€§èƒ½æœ€å¼ºï¼Œä½†æˆæœ¬é«˜ï¼Œéœ€è¦ä»£ç†ï¼‰
2. **æ™ºè°± GLM-4**ï¼ˆå›½äº§ï¼Œæ€§èƒ½ä¸é”™ï¼‰
3. **ç™¾åº¦æ–‡å¿ƒä¸€è¨€**ï¼ˆå›½äº§ï¼Œä»·æ ¼ä¾¿å®œï¼‰
4. **Kimiï¼ˆæœˆä¹‹æš—é¢ï¼‰**ï¼ˆé•¿æ–‡æœ¬èƒ½åŠ›å¼ºï¼‰

**æˆæœ¬å¯¹æ¯”**ï¼ˆæ¯ç™¾ä¸‡tokenï¼‰ï¼š
- é€šä¹‰åƒé—®ï¼šÂ¥8-20
- GPT-4ï¼š$30-60
- GLM-4ï¼šÂ¥10-30
- æ–‡å¿ƒä¸€è¨€ï¼šÂ¥6-12

### å‘é‡åŒ–æ¨¡å‹
**é€‰æ‹©ï¼štext-embedding-ada-002ï¼ˆOpenAIï¼‰æˆ– text-embedding-v1ï¼ˆé€šä¹‰ï¼‰**

**ç”¨é€”**ï¼š
- å°†æ–‡æœ¬è½¬æ¢ä¸ºå‘é‡
- ç”¨äºè¯­ä¹‰æœç´¢å’Œç›¸ä¼¼åº¦è®¡ç®—

**ç†ç”±**ï¼š
- âœ… æ•ˆæœå¥½
- âœ… æˆæœ¬ä½
- âœ… API ç®€å•

### è¯­éŸ³è¯†åˆ«
**é€‰æ‹©ï¼šå¾®ä¿¡å°ç¨‹åºåŒå£°ä¼ è¯‘æ’ä»¶ï¼ˆä¼˜å…ˆï¼‰+ é˜¿é‡Œäº‘è¯­éŸ³è¯†åˆ«ï¼ˆå¤‡ç”¨ï¼‰**

**ç†ç”±**ï¼š
- âœ… å¾®ä¿¡æ’ä»¶å…è´¹ï¼Œé›†æˆç®€å•
- âœ… é˜¿é‡Œäº‘è¯†åˆ«å‡†ç¡®ç‡é«˜
- âœ… æ”¯æŒå®æ—¶è¯†åˆ«

**APIç¤ºä¾‹**ï¼š
```python
from aliyunsdkcore.client import AcsClient
from aliyunsdkcore.request import CommonRequest

# é˜¿é‡Œäº‘è¯­éŸ³è¯†åˆ«
client = AcsClient('<accessKeyId>', '<accessSecret>', 'cn-shanghai')
request = CommonRequest()
request.set_domain('nls-meta.cn-shanghai.aliyuncs.com')
request.set_method('POST')
request.set_version('2019-02-28')
request.set_action_name('CreateToken')
```

---

## ğŸ”§ å¼€å‘å·¥å…·ä¸è¾…åŠ©æŠ€æœ¯

### å¼€å‘ç¯å¢ƒ
- **IDE**ï¼šVS Code + å¾®ä¿¡å¼€å‘è€…å·¥å…·
- **Pythonç¯å¢ƒ**ï¼špyenv + poetryï¼ˆä¾èµ–ç®¡ç†ï¼‰
- **ä»£ç æ ¼å¼åŒ–**ï¼šBlackï¼ˆPythonï¼‰ã€Prettierï¼ˆTypeScriptï¼‰
- **ä»£ç æ£€æŸ¥**ï¼šPylintã€ESLint
- **ç±»å‹æ£€æŸ¥**ï¼šmypyï¼ˆPythonï¼‰ã€TypeScript

### ç‰ˆæœ¬æ§åˆ¶
- **Git** + **GitHub/GitLab**
- **åˆ†æ”¯ç­–ç•¥**ï¼šGit Flow
  - mainï¼šç”Ÿäº§ç¯å¢ƒ
  - developï¼šå¼€å‘ç¯å¢ƒ
  - feature/*ï¼šåŠŸèƒ½åˆ†æ”¯
  - hotfix/*ï¼šç´§æ€¥ä¿®å¤

### APIæ–‡æ¡£
- **FastAPIè‡ªåŠ¨ç”Ÿæˆ**ï¼šSwagger UI + ReDoc
- **è®¿é—®åœ°å€**ï¼š`https://api.xxx.com/docs`

### æ—¥å¿—ç³»ç»Ÿ
**é€‰æ‹©ï¼šPython logging + ELK Stackï¼ˆå¯é€‰ï¼‰**

**é…ç½®**ï¼š
```python
import logging
from logging.handlers import RotatingFileHandler

# é…ç½®æ—¥å¿—
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        RotatingFileHandler('app.log', maxBytes=10485760, backupCount=10),
        logging.StreamHandler()
    ]
)
```

**æ—¥å¿—çº§åˆ«**ï¼š
- DEBUGï¼šè°ƒè¯•ä¿¡æ¯
- INFOï¼šæ­£å¸¸ä¿¡æ¯
- WARNINGï¼šè­¦å‘Šä¿¡æ¯
- ERRORï¼šé”™è¯¯ä¿¡æ¯
- CRITICALï¼šä¸¥é‡é”™è¯¯

### ç›‘æ§ç³»ç»Ÿ
**é€‰æ‹©ï¼šPrometheus + Grafanaï¼ˆå¯é€‰ï¼‰**

**ç›‘æ§æŒ‡æ ‡**ï¼š
- API å“åº”æ—¶é—´
- è¯·æ±‚æˆåŠŸç‡
- æ•°æ®åº“è¿æ¥æ•°
- Redis å‘½ä¸­ç‡
- æœåŠ¡å™¨èµ„æºä½¿ç”¨ç‡

### æµ‹è¯•æ¡†æ¶
**åç«¯**ï¼š
- **pytest**ï¼šå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•
- **pytest-asyncio**ï¼šå¼‚æ­¥æµ‹è¯•
- **httpx**ï¼šAPI æµ‹è¯•

**å‰ç«¯**ï¼š
- **miniprogram-simulate**ï¼šå°ç¨‹åºç»„ä»¶æµ‹è¯•

**æµ‹è¯•è¦†ç›–ç‡ç›®æ ‡**ï¼š> 80%

---

## ğŸš€ éƒ¨ç½²æ–¹æ¡ˆ

### å®¹å™¨åŒ–
**é€‰æ‹©ï¼šDocker + Docker Compose**

**ç›®å½•ç»“æ„**ï¼š
```
docker/
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ nginx/
â”‚   â””â”€â”€ nginx.conf
â”œâ”€â”€ backend/
â”‚   â””â”€â”€ Dockerfile
â””â”€â”€ postgres/
    â””â”€â”€ init.sql
```

**docker-compose.yml ç¤ºä¾‹**ï¼š
```yaml
version: '3.8'

services:
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf
    depends_on:
      - backend

  backend:
    build: ./backend
    environment:
      - DATABASE_URL=postgresql://user:pass@postgres:5432/health_db
      - REDIS_URL=redis://redis:6379/0
    depends_on:
      - postgres
      - redis

  postgres:
    image: postgres:15-alpine
    environment:
      - POSTGRES_DB=health_db
      - POSTGRES_USER=user
      - POSTGRES_PASSWORD=pass
    volumes:
      - postgres_data:/var/lib/postgresql/data

  redis:
    image: redis:7-alpine
    volumes:
      - redis_data:/data

  minio:
    image: minio/minio
    command: server /data --console-address ":9001"
    environment:
      - MINIO_ROOT_USER=admin
      - MINIO_ROOT_PASSWORD=password
    volumes:
      - minio_data:/data

volumes:
  postgres_data:
  redis_data:
  minio_data:
```

### äº‘æœåŠ¡å™¨
**æ¨èï¼šé˜¿é‡Œäº‘ ECS**

**é…ç½®å»ºè®®**ï¼š
- **å¼€å‘ç¯å¢ƒ**ï¼š2æ ¸4Gï¼ˆçº¦Â¥100/æœˆï¼‰
- **ç”Ÿäº§ç¯å¢ƒ**ï¼š4æ ¸8Gï¼ˆçº¦Â¥300/æœˆï¼‰
- **æ“ä½œç³»ç»Ÿ**ï¼šUbuntu 22.04 LTS

**æ›¿ä»£æ–¹æ¡ˆ**ï¼š
- è…¾è®¯äº‘ï¼ˆä»·æ ¼ç›¸è¿‘ï¼‰
- åä¸ºäº‘ï¼ˆä»·æ ¼ç›¸è¿‘ï¼‰

### CI/CD
**é€‰æ‹©ï¼šGitHub Actions æˆ– GitLab CI**

**æµç¨‹**ï¼š
```
ä»£ç æäº¤ â†’ è‡ªåŠ¨æµ‹è¯• â†’ æ„å»ºé•œåƒ â†’ éƒ¨ç½²åˆ°æœåŠ¡å™¨
```

**GitHub Actions ç¤ºä¾‹**ï¼š
```yaml
name: Deploy

on:
  push:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Build and Deploy
        run: |
          docker build -t health-assistant .
          docker push registry.xxx.com/health-assistant
          ssh user@server 'docker pull && docker-compose up -d'
```

---

## ğŸ” å®‰å…¨æ–¹æ¡ˆ

### HTTPS
- **SSLè¯ä¹¦**ï¼šLet's Encryptï¼ˆå…è´¹ï¼‰æˆ–é˜¿é‡Œäº‘è¯ä¹¦
- **å¼ºåˆ¶HTTPS**ï¼šNginx é…ç½® 301 é‡å®šå‘

### èº«ä»½è®¤è¯
**é€‰æ‹©ï¼šJWTï¼ˆJSON Web Tokenï¼‰**

**æµç¨‹**ï¼š
```
1. ç”¨æˆ·é€šè¿‡å¾®ä¿¡ç™»å½• â†’ è·å– openid
2. åç«¯ç”Ÿæˆ JWT token
3. å°ç¨‹åºå­˜å‚¨ token
4. æ¯æ¬¡è¯·æ±‚æºå¸¦ token
5. åç«¯éªŒè¯ token
```

**å®ç°**ï¼š
```python
from jose import jwt
from datetime import datetime, timedelta

def create_access_token(data: dict):
    to_encode = data.copy()
    expire = datetime.utcnow() + timedelta(days=7)
    to_encode.update({"exp": expire})
    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm="HS256")
    return encoded_jwt
```

### æ•°æ®åŠ å¯†
- **ä¼ è¾“åŠ å¯†**ï¼šHTTPSï¼ˆTLS 1.3ï¼‰
- **å­˜å‚¨åŠ å¯†**ï¼š
  - æ•æ„Ÿå­—æ®µï¼šAES-256 åŠ å¯†
  - å¯†ç ï¼šbcrypt å“ˆå¸Œ
  - æ•°æ®åº“ï¼šé€æ˜æ•°æ®åŠ å¯†ï¼ˆTDEï¼‰

### é˜²æŠ¤æªæ–½
- **é™æµ**ï¼šRedis + ä»¤ç‰Œæ¡¶ç®—æ³•
- **é˜²SQLæ³¨å…¥**ï¼šORMï¼ˆSQLAlchemyï¼‰å‚æ•°åŒ–æŸ¥è¯¢
- **XSSé˜²æŠ¤**ï¼šè¾“å…¥éªŒè¯ + è¾“å‡ºè½¬ä¹‰
- **CSRFé˜²æŠ¤**ï¼šTokenéªŒè¯

---

## ğŸ’° æˆæœ¬ä¼°ç®—

### æœåŠ¡å™¨æˆæœ¬ï¼ˆæœˆï¼‰
- äº‘æœåŠ¡å™¨ï¼ˆ4æ ¸8Gï¼‰ï¼šÂ¥300
- æ•°æ®åº“ï¼ˆRDSå¯é€‰ï¼‰ï¼šÂ¥200ï¼ˆæˆ–è‡ªå»ºå…è´¹ï¼‰
- å¯¹è±¡å­˜å‚¨ï¼ˆ100GBï¼‰ï¼šÂ¥10
- CDNæµé‡ï¼ˆ100GBï¼‰ï¼šÂ¥20
- **å°è®¡**ï¼šÂ¥530/æœˆ

### AIæœåŠ¡æˆæœ¬ï¼ˆæœˆï¼‰
- LLM APIè°ƒç”¨ï¼šÂ¥500-2000ï¼ˆå–å†³äºç”¨é‡ï¼‰
- è¯­éŸ³è¯†åˆ«ï¼šÂ¥100-300
- **å°è®¡**ï¼šÂ¥600-2300/æœˆ

### æ€»æˆæœ¬
- **å¼€å‘é˜¶æ®µ**ï¼šÂ¥200-500/æœˆ
- **ä¸Šçº¿åˆæœŸ**ï¼šÂ¥1000-2000/æœˆ
- **ç¨³å®šè¿è¥**ï¼šÂ¥2000-5000/æœˆ

---

## ğŸ“¦ ä¾èµ–ç®¡ç†

### åç«¯ä¾èµ–ï¼ˆrequirements.txtï¼‰
```txt
# Webæ¡†æ¶
fastapi==0.109.0
uvicorn[standard]==0.27.0
gunicorn==21.2.0

# æ•°æ®åº“
sqlalchemy==2.0.25
asyncpg==0.29.0
alembic==1.13.1

# Redis
redis==5.0.1
hiredis==2.3.2

# AI/ML
openai==1.10.0
dashscope==1.14.0
sentence-transformers==2.3.1

# å·¥å…·åº“
pydantic==2.5.3
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
python-multipart==0.0.6
aiofiles==23.2.1

# ç›‘æ§æ—¥å¿—
prometheus-client==0.19.0
python-json-logger==2.0.7
```

### å‰ç«¯ä¾èµ–ï¼ˆpackage.jsonï¼‰
```json
{
  "dependencies": {
    "@vant/weapp": "^1.11.3",
    "mobx-miniprogram": "^5.0.1",
    "mobx-miniprogram-bindings": "^2.0.3"
  },
  "devDependencies": {
    "miniprogram-api-typings": "^3.12.0",
    "typescript": "^5.3.3"
  }
}
```

---

## ğŸ¯ æŠ€æœ¯é€‰å‹æ€»ç»“

| å±‚çº§ | æŠ€æœ¯é€‰æ‹© | ç†ç”± |
|------|---------|------|
| **å‰ç«¯** | å¾®ä¿¡å°ç¨‹åºåŸç”Ÿ + TypeScript | æ€§èƒ½æœ€ä¼˜ï¼Œå……åˆ†åˆ©ç”¨å¾®ä¿¡èƒ½åŠ› |
| **UIç»„ä»¶** | Vant Weapp | è½»é‡ã€ä¸°å¯Œã€æ˜“ç”¨ |
| **åç«¯** | Python + FastAPI | é«˜æ€§èƒ½ã€å¼€å‘æ•ˆç‡é«˜ã€AIç”Ÿæ€å¥½ |
| **æ•°æ®åº“** | PostgreSQL | åŠŸèƒ½å¼ºå¤§ã€ç¨³å®šå¯é  |
| **ç¼“å­˜** | Redis | æ€§èƒ½æé«˜ã€åŠŸèƒ½ä¸°å¯Œ |
| **æ–‡ä»¶å­˜å‚¨** | MinIO | è‡ªå»ºã€æˆæœ¬ä½ã€å…¼å®¹S3 |
| **LLM** | é˜¿é‡Œäº‘é€šä¹‰åƒé—® | å›½å†…æœåŠ¡ã€ä¸­æ–‡å¥½ã€ä»·æ ¼åˆç† |
| **éƒ¨ç½²** | Docker + é˜¿é‡Œäº‘ECS | æ ‡å‡†åŒ–ã€æ˜“æ‰©å±• |

---

## ğŸ“š å­¦ä¹ èµ„æº

### å®˜æ–¹æ–‡æ¡£
- [å¾®ä¿¡å°ç¨‹åºå¼€å‘æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [FastAPIå®˜æ–¹æ–‡æ¡£](https://fastapi.tiangolo.com/zh/)
- [PostgreSQLä¸­æ–‡æ–‡æ¡£](http://www.postgres.cn/docs/14/)
- [Redisä¸­æ–‡æ–‡æ¡£](http://www.redis.cn/)
- [é€šä¹‰åƒé—®APIæ–‡æ¡£](https://help.aliyun.com/zh/dashscope/)

### æ¨èæ•™ç¨‹
- FastAPIå®æˆ˜æ•™ç¨‹
- å¾®ä¿¡å°ç¨‹åºå¼€å‘å®æˆ˜
- PostgreSQLæ€§èƒ½ä¼˜åŒ–
- Dockerå®¹å™¨åŒ–éƒ¨ç½²

---

**æ–‡æ¡£çŠ¶æ€**ï¼šâœ… å·²å®Œæˆ  
**æœ€åæ›´æ–°**ï¼š2026-01-19  
**ä¸‹ä¸€æ­¥**ï¼šè¯¦ç»†å®æ–½è®¡åˆ’
